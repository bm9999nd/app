import{a as B,b as J,e as z,g as G,h as q,i as H,m as K}from"./chunk-NUXJ7KYT.js";import{h as F,j as P,k as D,m as j,o as A}from"./chunk-RZZZITDW.js";import{Aa as s,Ca as N,Fa as c,Ga as w,Ka as i,La as a,Ma as h,Na as x,Oa as O,Sa as g,T as V,Ta as u,Xa as M,Y as _,Ya as m,Z as f,_a as C,db as k,fb as b,gb as R,hb as y,ib as S,lb as I,sa as l}from"./chunk-I3QNHAQZ.js";import"./chunk-5FZOKLP6.js";function Q(e,d){e&1&&x(0)}function U(e,d){e&1&&x(0)}function W(e,d){e&1&&x(0)}var X=e=>({css:"scale-result",name:"Tare",value:e});function Y(e,d){if(e&1&&(i(0,"div",17),c(1,W,1,0,"ng-container",15),a()),e&2){let n=u(),r=M(31);l(),s("ngTemplateOutlet",r)("ngTemplateOutletContext",b(2,X,n.asNumber(n.data.gross)>0&&n.asNumber(n.data.tare)==0?n.portValue:n.draft.tare))}}function Z(e,d){e&1&&x(0)}var ee=e=>({css:"scale-result",name:"Net",value:e});function te(e,d){if(e&1&&(i(0,"div",28),c(1,Z,1,0,"ng-container",15),a()),e&2){let n=u(),r=M(31);l(),s("ngTemplateOutlet",r)("ngTemplateOutletContext",b(2,ee,n.draft.gross-(n.asNumber(n.data.gross)>0&&n.asNumber(n.data.tare)==0?n.portValue:n.draft.tare)))}}var ne=e=>({"text-bg-danger rounded-3":e});function ie(e,d){if(e&1&&(i(0,"div")(1,"div",29)(2,"div",21)(3,"div",30),m(4),a(),i(5,"div",31)(6,"div"),m(7),y(8,"number"),a(),i(9,"div",32),m(10),a()()()()()),e&2){let n=d.name,r=d.value,o=d.css,t=u();l(2),s("ngClass",b(10,ne,r<0)),l(2),C(" ",n," "),l(2),N(o),l(),C(" ",S(8,7,r,"0.0-2")," "),l(3),C(" ",t.unit," ")}}function ae(e,d){if(e&1){let n=O();i(0,"div",33),h(1,"hr"),i(2,"div",34),m(3," * Simulation appear as for "),i(4,"b"),m(5,"testing purpose only"),a()(),i(6,"div",35)(7,"input",36),g("ngModelChange",function(o){_(n);let t=u();return f(t.portValue=o)})("input",function(o){_(n);let t=u();return f(t.setBubble(o.target))}),a(),i(8,"output",37),m(9),y(10,"number"),a()(),i(11,"div",38)(12,"div",39)(13,"div"),m(14,"Min"),a(),i(15,"input",40),g("ngModelChange",function(o){_(n);let t=u();return f(t.simulation.min=o)}),a()(),i(16,"div",39)(17,"div"),m(18,"Step"),a(),i(19,"input",41),g("ngModelChange",function(o){_(n);let t=u();return f(t.simulation.step=o)}),a()(),i(20,"div",39)(21,"div"),m(22,"Max"),a(),i(23,"input",40),g("ngModelChange",function(o){_(n);let t=u();return f(t.simulation.max=o)}),a()()()()}if(e&2){let n=u();l(7),s("ngModel",n.portValue)("min",n.simulation.min)("max",n.simulation.max)("step",n.simulation.step),l(2),C(" ",S(10,8,n.portValue,"0.0-2")," "),l(6),s("ngModel",n.simulation.min),l(4),s("ngModel",n.simulation.step),l(4),s("ngModel",n.simulation.max)}}var oe=e=>({css:"scale-display ms-4",name:"Indicator",value:e}),re=(e,d)=>({css:"scale-result",name:e,value:d}),le=e=>({"col-3":e}),T=function(e){return e.single="single",e.complete="complete",e}(T||{}),pe=(()=>{let d=class d{constructor(){this.scaleMode=T,this.simulation={enable:!0,max:99999,min:0,step:10},this.unit="kg",this.data=this.newData(),this.draft=JSON.parse(JSON.stringify(this.data)),this.portValue=0}ngAfterViewInit(){$(".range").each((r,o)=>{this.setBubble(o)})}newData(){return{id:-1,date:new Date,mode:T.single,detail:"",price:0,gross:0,tare:0}}onIndicator(){let r=this.portValue,o=this.draft;this.asNumber(o.gross)>0&&this.asNumber(o.tare)==0&&(this.draft.tare=r),this.asNumber(o.gross)==0&&(this.draft.gross=r)}asNumber(r){let o=Number(r);return isNaN(o)?0:o}setScale(){this.onIndicator(),this.data=JSON.parse(JSON.stringify(this.draft)),this.draft=this.data}setBubble(r){let t=$(r).parent().find(".bubble"),p=this.simulation.min,v=this.simulation.max,L=this.portValue,E=Number((L-p)*100/(v-p));t.css("left",`calc(${E}% + (${8-E*.15}px))`)}};d.\u0275fac=function(o){return new(o||d)},d.\u0275cmp=V({type:d,selectors:[["app-run"]],standalone:!0,features:[k],decls:34,vars:19,consts:[[1,"mb-3"],[1,"mb-3","overflow-auto"],[1,"d-grid"],[1,"border","border-dark-subtle","bg-dark-subtle","rounded","text-center","mb-3"],[1,"border","border-dark-subtle","bg-dark-subtle","rounded"],[1,"mb-3","text-center"],[1,"fw-medium"],[1,"w-100","px-2"],[1,"btn-group","w-100"],["id","mode1","name","mode","type","radio",1,"btn-check",3,"ngModel","value","ngModelChange"],["for","mode1",1,"btn","btn-outline-danger","w-50"],["id","mode2","name","mode","type","radio",1,"btn-check",3,"ngModel","value","ngModelChange"],["for","mode2",1,"btn","btn-outline-danger","w-50"],[1,"d-flex","justify-content-center"],[1,"text-bg-dark","bg-gradient","border","border-2","p-1","rounded","shadow","shadow-sm","w-indicator"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","align-items-center","justify-content-around"],[1,""],["class",""],[1,"row","mx-0"],["class","col-9",4,"ngIf"],[3,"ngClass"],[1,"d-flex","align-items-baseline","justify-content-end","h-100","pb-3"],["type","button",1,"btn","btn-lg","btn-primary","border-0","rounded-circle",3,"click"],[1,"bi","bi-arrow-bar-down"],["scaleCtl",""],[1,"text-center","fixed-bottom"],["class","bg-body-tertiary px-3 pb-3"],[1,"col-9"],[1,"d-grid","justify-content-end"],[1,"text-center","small"],[1,"d-flex","align-items-center"],[1,"text-capitalize","p-2","fs-4"],[1,"bg-body-tertiary","px-3","pb-3"],[1,"text-muted","fst-italic","small","text-center"],[1,"range-wrap"],["type","range",1,"range",3,"ngModel","min","max","step","ngModelChange","input"],[1,"bubble"],[1,"d-flex","justify-content-between"],[1,"d-grid","text-center"],["type","number",1,"form-control","ctl-input",3,"ngModel","ngModelChange"],["type","number","step","0.01",1,"form-control","ctl-input",3,"ngModel","ngModelChange"]],template:function(o,t){if(o&1&&(h(0,"div",0),i(1,"div",1)(2,"div",2)(3,"div",3),m(4," --- container data --- "),a(),i(5,"div",4)(6,"div",5)(7,"div",6),m(8,"Scale Mode"),a(),i(9,"div",7)(10,"div",8)(11,"input",9),g("ngModelChange",function(v){return t.draft.mode=v}),a(),i(12,"label",10),m(13,"Single"),a(),i(14,"input",11),g("ngModelChange",function(v){return t.draft.mode=v}),a(),i(15,"label",12),m(16,"Complete"),a()()()(),i(17,"div",13)(18,"div",14),c(19,Q,1,0,"ng-container",15),a()(),i(20,"div",16)(21,"div",17),c(22,U,1,0,"ng-container",15),a(),c(23,Y,2,4,"div",18),a(),i(24,"div",19),c(25,te,2,4,"div",20),i(26,"div",21)(27,"div",22)(28,"button",23),g("click",function(){return t.setScale()}),h(29,"i",24),a()()()(),c(30,ie,11,12,"ng-template",null,25,I),a()()(),i(32,"div",26),c(33,ae,24,11,"div",27),a()),o&2){let p=M(31);l(11),s("ngModel",t.draft.mode)("value",t.scaleMode.single),l(3),s("ngModel",t.draft.mode)("value",t.scaleMode.complete),l(5),s("ngTemplateOutlet",p)("ngTemplateOutletContext",b(12,oe,t.portValue)),l(3),s("ngTemplateOutlet",p)("ngTemplateOutletContext",R(14,re,t.draft.mode==t.scaleMode.complete?"Gross":"Net",t.asNumber(t.data.gross)==0?t.portValue:t.draft.gross)),l(),w(23,t.draft.mode==t.scaleMode.complete?23:-1),l(2),s("ngIf",t.draft.mode==t.scaleMode.complete),l(),s("ngClass",b(17,le,t.draft.mode==t.scaleMode.complete)),l(7),w(33,t.simulation.enable?33:-1)}},dependencies:[A,F,P,D,j,K,B,G,H,q,J,z],styles:['.w-indicator[_ngcontent-%COMP%]{width:fit-content}.scale-display[_ngcontent-%COMP%]{color:red;background-color:#000;border:1px silver solid;width:8.5rem;padding:.5rem;border-radius:.5rem;font-family:monospace;font-size:x-large;text-align:end;-webkit-text-stroke:medium}.scale-result[_ngcontent-%COMP%]{color:unset;background-color:unset;padding:.5rem;border-radius:.5rem;font-family:math;font-size:x-large;text-align:end;-webkit-text-stroke:medium}.ctl-input[_ngcontent-%COMP%]{width:100px;text-align:end}.range-wrap[_ngcontent-%COMP%]{position:relative}.range[_ngcontent-%COMP%]{width:100%}.bubble[_ngcontent-%COMP%]{background:red;color:#fff;padding:4px 12px;position:absolute;border-radius:4px;top:1.5rem;left:50%;transform:translate(-50%)}.bubble[_ngcontent-%COMP%]:after{content:"";position:absolute;width:2px;height:2px;background:red;top:1.5rem;left:50%}']});let e=d;return e})();export{pe as RunComponent};
